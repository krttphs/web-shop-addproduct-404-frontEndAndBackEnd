<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Shopee</title>

    <style>
        body {
            background-image: url("add-product-background.jpg") !important;
            background-repeat: no-repeat !important;
        }

        @keyframes loader {
            from {
                transform: translateY(30px);
                opacity: 0;
            }

            to {
                transform: translateY(0px);
                opacity: 1;
            }
        }

        .loader-animation {
            animation: loader 0.3s ease-out forwards;
        }
    </style>
</head>

<body class="bg-cover bg-center bg-no-repeat h-screen w-screen m-0 p-0">
    <main class="flex flex-col justify-center items-center h-full">
        <div class="bg-gray-200 p-3 rounded-xl text-center flex flex-col w-[1000px] h-[80vh] overflow-auto border-black border-2 loader-animation"
            id="mainFrame">
            <div class="sticky top-0 z-10 bg-gray-200">
                <h1 class="text-xl font-bold pointer-events-none">My Products ðŸ“¦</h1>
                <p class="mt-3 text-center pointer-events-none">List of all products...</p>
            </div>
            <table class="bg-white rounded-xl m-10 text-center">
                <thead>
                    <tr>
                        <th class="px-4 pointer-events-none">No.</th>
                        <th class="px-4 pointer-events-none">Product ID</th>
                        <th class="px-4 pointer-events-none">Name</th>
                        <th class="px-4 pointer-events-none">Quantity</th>
                        <th class="px-4 pointer-events-none">Price (Baht)</th>
                    </tr>
                </thead>
                <tbody id="addProduct">
                    <!-- add products here -->
                </tbody>
            </table>
        </div>
        <a href="https://krttphs.github.io/web-shop-addproduct-404-frontEndAndBackEnd/views/add-product"
            class="flex mt-4 justify-center text-base text-opacity-0 font-bold text-black rounded-sm p-3 hover:text-opacity-100 hover:bg-white transition duration-700">Product
            management(admin only eiei)</a>
    </main>

    <script>
        window.addEventListener("DOMContentLoaded", () => {
            const products = JSON.parse(localStorage.getItem("products") || "[]");
            const tableBody = document.getElementById("addProduct");
            const mainFrame = document.getElementById("mainFrame");

            if (products.length === 0) {
                const title = document.createElement("h1")
                title.innerHTML = `à¹„à¸¡à¹ˆà¸¡à¸µà¸ªà¸´à¸™à¸„à¹‰à¸² à¸“ à¸‚à¸“à¸°à¸™à¸µà¹‰`;
                title.className = "text-center text-black text-opacity-50 text-lg mb-3"
                mainFrame.appendChild(title);
            } else {
                products.forEach((product, index) => {
                    const row = document.createElement("tr");

                    row.innerHTML = `
            <td class="border px-4 py-x">${index + 1}</td>
            <td class="border px-4 py-2">${product.id}</td>
            <td class="border px-4 py-2">${product.name}</td>
            <td class="border px-4 py-2">${product.qty}</td>
            <td class="border px-4 py-2">${product.price}</td>
        `;

                    tableBody.appendChild(row);
                });
            }


        });
    </script>
    <script src="../routes/shop.js"></script>
</body>

</html>